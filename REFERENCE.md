# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`puppet::artemis`](#puppetartemis): Installs and configures an Artemis instance

## Classes

### puppet::artemis

Installs and configures an Artemis instance

* **See also**
https://activemq.apache.org/artemis/docs/latest/index.html

#### Examples

##### Basic usage

```puppet
class { 'puppet::artemis':
  instance_name => 'broker',
  ssl_enabled   => true
  host          => 'host.example.com',
  version       => '2.6.4',
}
```

#### Parameters

The following parameters are available in the `puppet::artemis` class.

##### `host`

Data type: `String`

Hostname of the Artemis server.

Default value: 'localhost'

##### `port`

Data type: `Integer`

Port number of the Artemis message interface.

Default value: 61616

##### `admin_port`

Data type: `Integer`

Port number of the Artemis management interface.

Default value: 8161

##### `admin_path`

Data type: `String`

Context path of the Artemis management interface.

Default value: 'jms-management'

##### `version`

Data type: `String`

Artemis binary zip version.

Default value: '2.6.4'

##### `instance_name`

Data type: `String`

Name of the Artemis instance.

Default value: 'artemis'

##### `clean`

Data type: `Boolean`

If set the cleanup instead of the install tasks will be executed.

Default value: !=

##### `is_failover_instance`

Data type: `Boolean`

Defines wether this intance is a failover instance in a cluster setup.

Default value: `false`

##### `failover_buddy_host`

Data type: `Optional[String]`

Sets the failover buddy host in a cluster setup.

Default value: `undef`

##### `cluster_user`

Data type: `String`

Username for cluster access.

Default value: 'artemis'

##### `cluster_password`

Data type: `String`

Password for cluster access.

Default value: 'password'

##### `enable_ssl`

Data type: `Boolean`

Enable ssl for the management and message interface.

Default value: `true`

##### `enable_two_way_ssl`

Data type: `Boolean`

Enable two-way-ssl for the management and message interface.

Default value: `false`

##### `users`

Data type: `Array`

List of users with id and password for management and message interface access.

Default value: [
    {
      userid => 'admin',
      password => 'password',
    },
    {
      userid => 'default',
      password => 'password',
    },
  ]

##### `roles`

Data type: `Array`

List of roles with name and members for granting permissions on the management and message interface.

Default value: [
    {
      name => 'amq',
      members => 'admin',
    },
    {
      name => 'view',
      members => 'default',
    },
  ]

##### `tmp_dir`

Data type: `String`

Temporary folder where Artemis binary zip is unpacked.

Default value: '/var/tmp'

##### `cert_dir`

Data type: `String`

Folder containing the x509 PEM cerificates for assembling the keystores.

Default value: '/var/tmp/certificates'

##### `service_dir`

Data type: `String`

Target systemd service folder.

Default value: '/etc/systemd/system'

##### `app_dir`

Data type: `String`

Application directory where Artemis binaries are installed.

Default value: '/opt/artemis'

##### `data_dir`

Data type: `String`

Data directory where Artemis instances are created.

Default value: '/var/opt/artemis'

##### `instance_dir`

Data type: `String`

Directory where artemis instance files are stored.

Default value: "${data_dir}/${instance_name}"

##### `server_ca_cert`

Data type: `String`

Path to the server CA certificate file.

Default value: "${cert_dir}/ca_cert.pem"

##### `server_cn`

Data type: `String`

Server certificate common name.

Default value: $host

##### `server_cert`

Data type: `String`

Path to the server certificate file.

Default value: "${cert_dir}/${server_cn}_cert.pem"

##### `server_key`

Data type: `String`

Path to the server certificate key file.

Default value: "${cert_dir}/${server_cn}_key.pem"

##### `server_key_pass`

Data type: `String`

Password of the server certificate key file.

Default value: 'password'

##### `server_keystore`

Data type: `String`

Path to the server keystore file.

Default value: "${cert_dir}/artemis-keystore.pkcs12"

##### `server_truststore`

Data type: `String`

Path to the server truststore file.

Default value: "${cert_dir}/artemis-truststore.pkcs12"

##### `keystore_pass`

Data type: `String`

Password of the server keystore file.

Default value: 'icarke'

##### `truststore_pass`

Data type: `String`

Password of the server truststore file.

Default value: 'icartr'

##### `owner`

Data type: `String`

Artemis service username.

Default value: 'artemis'

##### `uid`

Data type: `Integer`

User ID of the Artemis service user.

Default value: 30101

##### `membership`

Data type: `Array[String]`

List of group names of which the Artemis service user is a member.

Default value: ['artemis']

##### `group`

Data type: `String`

Artemis service group name.

Default value: 'artemis'

##### `gid`

Data type: `Integer`

Group ID of the Artemis service group.

Default value: 30101

##### `file_read_mode`

Data type: `String`

Default file read mode mask.

Default value: 'a=,ug+r'

##### `file_execute_mode`

Data type: `String`

Default file execute mode mask.

Default value: 'a=,ug+rwx'

##### `file_write_mode`

Data type: `String`

Default file write mode mask.

Default value: 'a=,ug+rx'

##### `file_all_read_mode`

Data type: `String`

Default file read mode mask for all users.

Default value: 'a=r'

##### `folder_read_mode`

Data type: `String`

Default folder read mode mask.

Default value: 'a=,ug+rx'

##### `folder_write_mode`

Data type: `String`

Default folder write mode mask.

Default value: 'a=,ug+rxw'

##### `folder_all_read_mode`

Data type: `String`

Default folder read mode mask for all users.

Default value: 'a=rx'

